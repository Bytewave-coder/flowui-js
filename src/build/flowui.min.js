(function (window, document) {
  "use strict";

  if (window.FlowUI) return;

  /* =======================
     CORE
  ======================= */
  function injectCSS(css) {
    const style = document.createElement("style");
    style.innerHTML = css;
    document.head.appendChild(style);
  }

  injectCSS(`
    * { box-sizing: border-box; }

    body {
      margin: 0;
      font-family: system-ui, -apple-system, BlinkMacSystemFont, sans-serif;
      background: radial-gradient(circle at top, #111 0%, #000 60%);
      color: #eaeaea;
      line-height: 1.65;
    }

    section {
      max-width: 1100px;
      margin: 0 auto;
      padding: 64px 20px;
    }

    /* TEXT */
    .flow-title {
      font-size: clamp(2.4rem, 6vw, 3.8rem);
      font-weight: 800;
      letter-spacing: -0.03em;
      margin-bottom: 16px;
    }

    .flow-subtitle {
      font-size: clamp(1.4rem, 4vw, 2rem);
      font-weight: 700;
      margin-bottom: 12px;
    }

    .flow-text {
      max-width: 720px;
      opacity: .95;
      font-size: 1rem;
    }

    .flow-muted {
      opacity: .6;
      font-size: .95rem;
    }

    /* SECTIONS */
    .flow-hero {
      min-height: 80vh;
      display: flex;
      flex-direction: column;
      justify-content: center;
      gap: 20px;
      background: linear-gradient(135deg, #7f7cff, #b983ff);
      color: white;
      border-radius: 32px;
      padding: 80px 24px;
    }

    .flow-card {
      background: #141414;
      border-radius: 24px;
      padding: 32px;
      box-shadow: 0 20px 40px rgba(0,0,0,.5);
      transition: transform .4s ease, box-shadow .4s ease;
    }

    .flow-card:hover {
      transform: translateY(-10px);
      box-shadow: 0 30px 60px rgba(0,0,0,.7);
    }

    .flow-glass {
      background: rgba(255,255,255,.08);
      backdrop-filter: blur(18px);
      border-radius: 24px;
      padding: 32px;
      box-shadow: 0 20px 40px rgba(0,0,0,.5);
    }

    /* BUTTONS */
    button {
      font-family: inherit;
      cursor: pointer;
    }

    .flow-primary,
    .flow-secondary,
    .flow-neon,
    .flow-ghost {
      padding: 14px 30px;
      border-radius: 999px;
      border: none;
      font-size: 1rem;
      font-weight: 600;
      transition: transform .25s ease, box-shadow .25s ease;
    }

    .flow-primary {
      background: linear-gradient(135deg, #7f7cff, #b983ff);
      color: #fff;
      box-shadow: 0 10px 30px rgba(127,124,255,.6);
    }

    .flow-secondary {
      background: linear-gradient(135deg, #00c6ff, #0072ff);
      color: #fff;
    }

    .flow-neon {
      background: #000;
      color: #0ff;
      box-shadow: 0 0 18px #0ff;
    }

    .flow-ghost {
      background: transparent;
      border: 1px solid rgba(255,255,255,.25);
      color: #fff;
    }

    button:hover {
      transform: scale(1.06);
    }

    /* ANIMATIONS */
    .flow-fade { opacity: 0; transform: translateY(24px); }
    .flow-slide { opacity: 0; transform: translateX(-30px); }
    .flow-scale { opacity: 0; transform: scale(.9); }
    .flow-float { animation: float 4s ease-in-out infinite; }

    @keyframes float {
      0%,100% { transform: translateY(0); }
      50% { transform: translateY(-10px); }
    }
  `);

  /* =======================
     ANIMATION ENGINE
  ======================= */
  function reveal() {
    const items = document.querySelectorAll(
      ".flow-fade,.flow-slide,.flow-scale"
    );

    const observer = new IntersectionObserver(
      entries => {
        entries.forEach(e => {
          if (e.isIntersecting) {
            e.target.style.opacity = 1;
            e.target.style.transform = "none";
            e.target.style.transition =
              "all .9s cubic-bezier(.2,.7,.2,1)";
            observer.unobserve(e.target);
          }
        });
      },
      { threshold: 0.15 }
    );

    items.forEach(i => observer.observe(i));
  }

  /* =======================
     PUBLIC API
  ======================= */
  (function () {
  const FlowUI = {
    init() {
      console.log("FlowUI initialized");
    }
  };

  window.FlowUI = FlowUI;
})();
